FROM alpine:latest
MAINTAINER Gowtham Sundar <gowtham@trustmachines.co>

RUN apk add --no-cache curl

ARG BITCOIN_RPC_HOST
ARG BITCOIN_RPC_PORT
ARG MINER_ADDRESS
ARG INIT_BTC_BLOCKS
ARG BTC_BLOCK_GEN_TIME

ENV BITCOIN_RPC_HOST=$BITCOIN_RPC_HOST
ENV BITCOIN_RPC_PORT=$BITCOIN_RPC_PORT
ENV MINER_ADDRESS=$MINER_ADDRESS
ENV INIT_BTC_BLOCKS=$INIT_BTC_BLOCKS
ENV BTC_BLOCK_GEN_TIME=$BTC_BLOCK_GEN_TIME


COPY entrypoint.sh /bin/entrypoint.sh

RUN chmod a+x /bin/entrypoint.sh

ENTRYPOINT ["/bin/entrypoint.sh"]
